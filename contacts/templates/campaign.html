{% extends 'base.html' %}

{% block title %}
    <title>Campaigns</title>
{% endblock %}

{% block content %}
    <div class="ml-2">
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="viewCampaignDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                View Campaign
            </button>
            <div class="dropdown-menu" aria-labelledby="viewCampaignDropdown">
                <a class="dropdown-item" id="viewCampaignA">Campaign A</a>
                <a class="dropdown-item" id="viewCampaignB">Campaign B</a>
            </div>
        </div>
    </div>

    <div id="campaignContent" class="mt-3">
        Click on View Campaign to view a campaign.
    </div>

    <script>
        function loadCampaign(url) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('campaignContent').innerHTML = data;
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }

        document.getElementById('viewCampaignA').addEventListener('click', function() {
            loadCampaign('/campaignA/');
        });

        document.getElementById('viewCampaignB').addEventListener('click', function() {
            loadCampaign('/campaignB/');
        });

        document.getElementById('viewCampaignDropdown').addEventListener('click', function(event) {
            event.preventDefault();
            document.getElementById('campaignContent').innerHTML = 'Click on View Campaign to view a campaign.';
        });
    </script>
{% endblock %}
